.card
    .card-section
        .card-section-actions
            div(ng-show="fundProvider.state == 'approved'")
                .tag.tag-success Geaccepteerd
            div(ng-show="fundProvider.state == 'declined'")
                .tag.tag-default Geweigerd
            div(ng-show="fundProvider.state == 'pending'")
                .tag.tag-warning Wachten

        .card-block.card-block-provider
            .provider-img: img(ng-src="{{ fundProvider.organization.logo.sizes.thumbnail || './assets/img/organization-no-logo.svg' }}")
            span(ng-bind="fundProvider.organization.name").provider-title
            br
            .card-block.card-block-listing.card-block-listing-inline.card-block-listing-variant
                .card-block-listing-label E-mail
                span.text-primary-light(ng-bind="fundProvider.organization.email")
        .card-block.card-block-listing
            .card-block-listing-label Categorieën
            | {{ fundProvider.organization.fundCategories.join(', ') }}
            small(ng-show="$ctrl.fundCategories.length == 0").text-muted.small No categories
        br
        .card-block.card-block-listing
            .card-block-listing-label Aanmelding voor fonds:
            span(
                ui-sref="funds-show({fund_id: fundProvider.fund_id, organization_id: fundProvider.fund.organization_id})"
                ng-bind="fundProvider.fund.name").text-primary-light
                
    .card-section.card-section-primary.text-center
        button(
            ng-click="toggleDetails('stats')"
            ).button.button-default
            em.mdi.mdi-poll 
            | View statistics
        button(
            ng-click="toggleDetails('transactions')"
            ).button.button-primary
            em.mdi.mdi-coins 
            | Transactions

    .block.block-charts(ng-show="fundProvider.showStatistics")
        .card-section
            .chart-header
                .chart-header-range
                    .chart-header-item(ng-click="chartData.changeType('quarter')" ng-class="chartData.request.type=='quarter'?'active':''") Qwartaal
                    .chart-header-item(ng-click="chartData.changeType('month')" ng-class="chartData.request.type=='month'?'active':''") Maand
                    .chart-header-item(ng-click="chartData.changeType('week')" ng-class="chartData.request.type=='week'?'active':''") Week
                    .chart-header-item(ng-click="chartData.changeType('all')" ng-class="chartData.request.type=='all'?'active':''") All
                .chart-header-title {{ chartData.stringTitle }}
                .chart-header-actions
                    div(ng-if="chartData.request.type!='all'")
                        .button.button-default(ng-click="chartData.decrease()") Vorige
                        .button.button-default(ng-click="chartData.increase()") Volgende
            .chart-body
                linear-chart(data="chartData.response.dates")
        .card-section
            .row.chart-row.chart-row-condensed
                .col.col-sm-3
                    .chart-control
                        .chart-label Fund share (total)
                        radial-chart(total="one" value="chartData.response.share_total" size="sm")

                .col.col-sm-3
                    .chart-control
                        .chart-label Fund share ({{ chartData.stringTitle }})
                        radial-chart(total="one" value="chartData.response.share_in_range" size="sm")

                .col.col-sm-3
                    .chart-control
                        .chart-label {{ chartData.stringTitle }} usage
                        .chart-value
                            .chart-value_value €{{ chartData.response.usage | to_fixed:2 }}
                            .chart-value_label in {{ chartData.response.transactions }} transacties

                .col.col-sm-3
                    .chart-control
                        .chart-label Average purchase
                        .chart-value
                            .chart-value_value €{{ chartData.response.avg_transaction | to_fixed:2 }}

    .card-group(ng-show="fundProvider.showTransactions")
        .card-header
            .arrow-box.border.bg-dim: .arrow
            .card-title Transactions ({{ transactions.length }})
        .card-section
            .card-block.card-block-table
                .table-wrapper
                    table.table
                        tr
                            th BEDRAG 
                            th DATUM
                            th STATUS
                        tr(
                            ng-repeat="transaction in transactions" 
                            ui-sref="financial-dashboard-transaction({organization_id: fundProvider.fund.organization_id, fund_id: fundProvider.fund_id, fund_provider_id: fundProvider.id, id: transaction.address})").pointer
                            td: a.text-primary-light €{{ transaction.amount | to_fixed:2 }}
                            td(ng-bind="transaction.date_time")
                            td(ng-bind="{pending: 'Pending', success : 'Voltooid'}[transaction.state]")
